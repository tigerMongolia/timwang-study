##### 1. RDB与AOF区别

###### 1.1 RDB与AOF的选择之惑

- 对数据非常敏感， 建议使用默认的AOF持久化方案
	
	- AOF持久化策略使用everysecond，每秒钟fsync一次。该策略redis仍可以保持很好的处理性能，当出
现问题时，最多丢失0-1秒内的数据。
	- 注意：由于AOF文件存储体积较大， 且恢复速度较慢

- 数据呈现阶段有效性， 建议使用RDB持久化方案

	- 数据可以良好的做到阶段内无丢失(该阶段是开发者或运维人员手工维护的，且恢复速度较快，阶段点数据恢复通常采用RDB方案
	- 注意：利用RDB实现紧凑的数据持久化会使Red is降的很低

- 综合比对
	
	- RDB与AOF的选择实际上是在做一种权衡， 每种都有利有弊
	- 如不能承受数分钟以内的数据丢失， 对业务数据非常敏感， 选用AOF
	- 如能承受数分钟以内的数据丢失， 且追求大数据集的恢复速度， 选用RDB
	- 灾难恢复选用RDB
	- 双保险策略， 同时开启RDB和AOF， 重启后， Redis优先使用AOF来恢复数据， 降低丢失数据的量

###### 1.2 RDB VS AOF

![f73982299b6c9d2777d9ace643d1b352.png](https://tva1.sinaimg.cn/large/007S8ZIlgy1gh5vvoo2tgj30ja090mxd.jpg)
